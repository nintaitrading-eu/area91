!!! 5
!!!
%html{:lang => "en"}
  %head
    %meta{:http-equiv => "Content-Type", :content => "text/html;charset=utf-8"}
    %meta{:charset => "utf-8"}
    %meta{:http-equiv => "X-UA-Compatible", :content => "IE=edge"}
    %meta{:name => "viewport", :content => "width=device-width, initial-scale=1.0"}
    %meta{:name => "description", :content => ""}
    %meta{:name => "generator", :content => ""}
    %meta{:name => "author", :content => "Andy Nagels"}
    %meta{:name => "copyright", :content => "&copy; 2016&ndash;eternity Andy Nagels"}
    %title Area91
    %link{:rel => "stylesheet", :href => "#{static_path(@conn, "/css/pure-min.css")}"}
    %link{:rel => "stylesheet", :href => "#{static_path(@conn, "/css/custom_style.css")}"}
    %link{:rel => "stylesheet", :href => "#{static_path(@conn, "/css/font-awesome-4.6.3/css/font-awesome.min.css")}"}
    %link{:rel => "icon", :type => "image/png", :href => "#{static_path(@conn, "/favicon.png")}"}
  %body
    %script{:src => "#{static_path(@conn, "/js/pure-css-menu.js")}"}
    .custom-menu-wrapper
      .pure-menu.custom-menu.custom-menu-top
        %a.pure-menu-heading.custom-menu-brand{:href => "#"}
          %img{:src => "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAToSURBVFiFxZd7TJVlHMc/z3vO4eJR5BJhGmQiJydSXlC8QVKKTlY2NWzO64Y6HYVmmtIo1LbK1OWWYk5LTV3DJsnKXJqZudKJU0lEQA1EuSPncA7nynmf/lCZTs4Bgur717v393u+v89zeZ/neQX/kyak/zjeVG2Zo/WWJEFsiIyea5HyzsabV3/uiPGrR8b1anTrU00u5W7BrGN7H45lZUmlLLQg2VjftMFYb3lBwnaPAF+ED4ncopXZUjJJSGVWe4XTT8SFNbh1S00u3Zu4ZTCI91q98qWu2lw921hXukbUq4OQ9wOKOP4YQP6IEbriBuvbzahZgB8Ir4U3nh0aZXLr0kxOsRgVv7Zy7L6W7zHLJKnKssZas8PlcgNofBX7yUcAToUPjq+ut+4QgsHt9Tin0DDe5PJ51+gkGbf0SilU9QOH1ZlXXlKXabU4nD16+vuC/ey5A3OatAAFETFBDlwfNwt1kUR4NJMS5fytiGSjU5dhdIrR7UE+UPGlylKzqXkPyODeoT3Wuezqh1KKnwC0VRGGeU24NjvhCU8GPQLwra0PTSup8lkhpRjQ0cIAK3Iq/B12cx5gABb49/K75LTbegtF5AJopRR725lmol60DZGI1Z0pDJAlpWLNK9vvsDNWSDJy34/fdz/U6qV01rQz0pyu2QJMl5Jde9NjP2orx+s+0BWNDpsyEUhEcDQsomapp7x/ZQTiwkaSFD5uDJCv+vqnZCUmtvxnAIG+QawdvhK9pvkPjZBTN03u0+wtv1sBFKGwalgmQX5B/NlYVJ6R8FRdu226UlAIhYSn09HrggCY9ux8YkKGknP9MPtLjpR2xKNLizCp/+eEB8RjCJ7M8VsHeW3AAkqNxews3N1hj388AoaQhYQHxFNvu46vRs/rUSuxu218enE9LtXjmus8gOKjZcCoGeEPv9P7RPF82CokKrmly8kumE9l8w32FG2i2lrVqY60OwUzt27G8HLCTJPlKjgvAgqx/Q4gULhcuxuT4w5Gl5aNFxbS4JCArvsAQgcPYtCkl0AIXWBADlb3IvT+I/DRBGO0F3G+6rNWC7fq6kh/HlPrFAROnsiQXdtRfHxag9N3Z4MQVBaeypeykb5BX9E38C1cqpFfyuZ0uljbAEIQvDSVyB1bCZmYyPBtWxAaDcPSlqAPexJTZRW/7kw92Wh6BZf7Nqpq5cKdubSoXveXDksblL0Vv6lJNP32O7baOvrMmEbs+kzCk6eAlHyzOI2ASHCrt6lomI6LaMyOIrrrGNH6TU3CdDCHG5kbsCCRPfUMnJ0CwLW8o9QUFRMQeS/ZrdbR5DzTbcUBtMaVa6n99jskIAVcXL6akQe+RNNTz7F31nZbIY8AtkO5PHwLc9vsnE5dhjskBLWlBS83tO4BaOulo9GIpdHU3oW4W6SArGkvyWpWzIDlXwFQnH6RwDrA7imp9JRviVa09BOIJcCVbgXoU1PQ/Nyta1lqi9YA8mto/W95RCEhd5sMfW/vjOtfHiMUGQ8cAlxdBnjwMKrySsWE8uJ5ihBjBJz11mhS5M0zKdHFKWqL+xmkXANUdBnggZLLrp57o6xorBByPuD1aFsSW1S1Ku7yJ7pA20CESJGSE3gYQU9q8ysQIPmraN+26OjDFpvIAGnzZpIVXejk3pQcmvZDQgxolwmJuSMAfwNeAuvUOwSw4AAAAABJRU5ErkJggg=="}
        %a.custom-menu-toggle#toggle{:href => "#"}
          %s.bar
          %s.bar
      .pure-menu.pure-menu-horizontal.custom-menu.custom-menu-bottom.custom-menu-tucked#tuckedMenu
        .custom-menu-screen
          %ul.pure-menu-list
            %li.pure-menu-item
              %a.pure-menu-link{:href => "/", :title => " Home"}
                %i.fa.fa-home{:title => "Home", :aria-hidden => "true"}
            %li.pure-menu-item.pure-menu-has-children.pure-menu-allow-hover
              %a.pure-menu-link#mnu-finance{:href => "#"} &nbsp;Finance
                %i.fa.fa-line-chart{:title = "Finance", :aria-hidden => "true"}
                %ul.pure-menu-children
                  %li.pure-menu-item
                    %a.pure-menu-link{:href => "/finance/leverage"} &nbsp;Leverage
                  %li.pure-menu-item
                    %a.pure-menu-link{:href => "/finance/drawdown"} &nbsp;Drawdown
            %li.pure-menu-item.pure-menu-has-children.pure-menu-allow-hover
              %a.pure-menu-link#mnu-invoice{:href => "#"} &nbsp;Invoice
                %i.fa.fa-eur{:title => "Invoice", :aria-hidden => "true"}
                  %ul.pure-menu-children
                    %li.pure-menu-item
                      %a.pure-menu-link{:href => "/invoice/new"} New
                    %li.pure-menu-item
                      %a.pure-menu-link{:href => "/invoice"} Overview
            %li.pure-menu-item.pure-menu-has-children.pure-menu-allow-hover
              %a.pure-menu-link#mnu-admin{:href => "#"} &nbsp;Admin
                %i.fa.fa-cog{:title => "Admin", :aria-hidden => "true"}
                  %ul.pure-menu-children
                    %li.pure-menu-item
                      %a.pure-menu-link{:href => "/admin/account"} Account
                    %li.pure-menu-item
                      %a.pure-menu-link{:href => "/admin/currency"} Currency
                    %li.pure-menu-item
                      %a.pure-menu-link{:href => "/admin/parameter"} Parameter
            %li.pure-menu-item
              %a.pure-menu-link{:href => "/about"} About
                %i.fa.fa-info{:title => "About", :aria-hidden => "true"}
    :javascript
      $(function (window, document) {
        document.getElementById('toggle').addEventListener('click', function (e) {
          document.getElementById('tuckedMenu').classList.toggle('custom-menu-tucked');
          document.getElementById('toggle').classList.toggle('x');
        });
      })(this, this.document);
    %p.alert.alert-info{:role => "alert"}#{get_flash(@conn, :info)}
    %p.alert.alert-danger{:role => "alert"}#{get_flash(@conn, :error)}

    %main#main{:role => "main"}
      = render @view_module, @view_template, assigns
    %script{:src => "#{static_path(@conn, "/js/app.js")}"}
    %script{:src => "https://code.jquery.com/jquery-1.11.2.min.js"}
    %script{:src => "/js/jquery.restfulizer.js"}
    :javascript
      $(function() {
        $(".rest").click(function(d) {
          $('form').submit(function(s) {
            var input = $("<input>").attr("type", "hidden").attr("name", "_csrf_token").val("#{get_csrf_token}");
            $(s.target).append($(input));
          });
        });
        $(".rest").restfulizer({});
      });
